

<mat-dialog-content>

  <div @fadeInUp class="card overflow-hidden">

    <mat-horizontal-stepper #stepper="matHorizontalStepper" [linear]="true">
      <ng-template matStepperIcon="edit">
        <mat-icon svgIcon="mat:done_all"></mat-icon>
      </ng-template>

      <ng-template matStepperIcon="done">
        <mat-icon svgIcon="mat:done_all"></mat-icon>
      </ng-template>

      <mat-step>
        <ng-template matStepLabel>Listen</ng-template>
        <mat-card class="example-card">
          <mat-card-header>
            <mat-card-title-group>
              <mat-card-title>
                <!-- Usando interpolação de strings para exibir o texto com palavras destacadas -->
                <span class="highlighted-yellow" [innerHTML]="displayedHtml"></span>
              </mat-card-title>
            </mat-card-title-group>
          </mat-card-header>
          <mat-card-content>
          </mat-card-content>
        </mat-card>
      </mat-step>

      <mat-step>
        <ng-template matStepLabel>Read</ng-template>
        <mat-card class="example-card">
          <mat-card-header>
            <mat-card-title-group (click)="playSound()">
              <mat-card-title>
                <!-- Usando interpolação de strings para exibir o texto com palavras destacadas -->
                <span class="highlighted-gray" [innerHTML]="displayedHtml"></span>
              </mat-card-title>
            </mat-card-title-group>
          </mat-card-header>
          <mat-card-content>
          </mat-card-content>
        </mat-card>
      </mat-step>

      <mat-step>
        <ng-template matStepLabel>Speak</ng-template>
        <mat-card class="example-card">

          <mat-dialog-actions>
            <button mat-icon-button [color]="isRecording ? 'warn' : 'red'" type="button" matTooltip="Start Recording"
              (click)="startRecording()">
              <mat-icon svgIcon="mat:mic"></mat-icon>
            </button>

            <button mat-icon-button [color]="isRecording ? 'red' : 'warn'" type="button" matTooltip="Stop Recording"
              (click)="stopRecording()">
              <mat-icon svgIcon="mat:mic_off"></mat-icon>
            </button>

          </mat-dialog-actions>

        </mat-card>
      </mat-step>
    </mat-horizontal-stepper>
  </div>

</mat-dialog-content>

<!-- Div para o WaveSurfer -->
<mat-progress-bar id="1" mode="buffer"></mat-progress-bar>
<div #waveform class="waveform-container" style="cursor: pointer;"></div>
<span class="example-spacer"></span>
<mat-progress-bar id="2" class="play-sound-button" color="warn" mode="buffer"></mat-progress-bar>

<button mat-fab style="cursor: pointer;"
class="play-sound-button" color="warn"
  matTooltip="Play : Repeat as many times as necessary!" type="button" (click)="playSound()">
  <mat-icon svgIcon="mat:play_arrow"></mat-icon>
</button>

<button mat-icon-button matTooltip="Close"
class="close-button" color="warn"
format_align_left type="button" (click)="closeDialog()">
  <mat-icon svgIcon="mat:close"></mat-icon>
</button>

